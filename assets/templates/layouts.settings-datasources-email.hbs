{{> ModeBar }}

<div class="mode-context">

    <header class="mode-context-header">
        <ol class="breadcrumbs">
            <li><a href="map.html">{{deployment.name}}</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="settings-datasources.html">Data sources</a></li>
        </ol>

        <h1 class="mode-context-title">Email</h1>
    </header>

    <span class="mode-context-trigger">
        <svg class="iconic">
            <use xlink:href="../../img/iconic-sprite.svg#chevron-bottom"></use>
        </svg>
        <span class="label hidden">Show more/less</span>
    </span>

    <div class="mode-context-body">

    </div>
</div>

<main role="main">

    <div class="toolbar">
        <div class="button-group">
            <button type="button" class="button-flat">Cancel</button>
            <button type="button" class="button-alpha">Save</button>
        </div>
    </div>

    <div class="main-col">

        <!--// IF: Email account is successfully configured //
        <div class="form-sheet">
            <div class="form-sheet-summary">
                <h3 class="form-sheet-title">Import posts from email</h3>
            </div>

            <div class="form-field switch">
               <label>Automatically import email</label>
               <div class="toggle-switch">
                  <input class="tgl" id="email-status" type="checkbox">
                  <label class="tgl-btn" for="email-status"></label>
               </div>
               <p><em>When turned on, Ushahidi will import all the messages currently in the configured email account's inbox, as well as any new messages sent to that address.</em></p>
            </div>

            <fieldset>
                <legend>Do you want imported email messages to be added to a survey?</legend>

                <div class="form-field radio">
                    <label>
                        <input type="radio" name="survey-assignment" id="survey-assign-no" checked />
                        <strong>No</strong>, keep their survey "unknown" until someone determines which survey it belongs to.
                    </label>
                </div>

                <div class="form-field radio">
                    <label>
                        <input type="radio" name="survey-assignment" id="survey-assign-yes" data-fieldgroup-toggle="survey-assignment" />
                        <strong>Yes</strong><span data-fieldgroup-target="survey-assignment">, add them to...</span>
                    </label>
                    <div class="custom-select" data-fieldgroup-target="survey-assignment">
                        <select>
                            <option>Getting around</option>
                            <option>Police encounters</option>
                            <option>Protester photos</option>
                            <option>Official events</option>
                        </select>
                    </div>
                </div>
            </fieldset>
        </div>
        // END IF //-->

        <div class="form-sheet">
            <div class="form-sheet-summary">
                <h3 class="form-sheet-title">Configure email account</h3>
            </div>

            <nav class="tabs-menu" data-tabs="email-tab">
                <ul>
                    <li><a href="#email-address">Address</a></li>
                    <li><a href="#email-incoming">Incoming server</a></li>
                    <li><a href="#email-outgoing">Incoming server</a></li>
                </ul>
            </nav>

            <div id="email-import" class="email-tab">

                <div class="form-field switch">
                   <label>Assign these posts to a survey</label>
                   <div class="toggle-switch">
                      <input class="tgl" id="switch-assign" type="checkbox" data-fieldgroup-toggle="assign-email-to-survey">
                      <label class="tgl-btn" for="switch-assign"></label>
                   </div>

                   <fieldset data-fieldgroup-target="assign-email-to-survey">
                       <legend>Imported email will be assigned to:</legend>

                       <div class="form-field radio">
                           <input checked type="radio" name="assign-to-survey" id="survey1" value="Getting around" />
                           <label for="survey1">Getting around</label>
                       </div>

                       <div class="form-field radio">
                           <input type="radio" name="assign-to-survey" id="survey2" value="Police encounters" />
                           <label for="survey2">Police encounters</label>
                       </div>

                       <div class="form-field radio">
                           <input type="radio" name="assign-to-survey" id="survey3" value="Protester photos" />
                           <label for="survey3">Protester photos</label>
                       </div>

                       <div class="form-field radio">
                           <input type="radio" name="assign-to-survey" id="survey4" value="Official events" />
                           <label for="survey4">Official events</label>
                       </div>
                   </fieldset>
                </div>


                <fieldset class="custom-fieldset">
                    <legend><span class="custom-fieldset-value">Who</span> will be able to see these posts</legend>

                    <div class="form-field radio">
                        <input type="radio" name="email-visible" id="email-visible1" value="you" />
                        <label for="email-visible1">Only you</label>
                    </div>

                    <div class="form-field radio">
                        <input type="radio" name="email-visible" id="email-visible2" value="everyone" />
                        <label for="email-visible2">Everyone</label>
                    </div>

                    <div class="form-field radio">
                        <input checked type="radio" name="email-visible" id="email-visible3" value="roles" data-fieldgroup-toggle="email-visible-roles" />
                        <label for="email-visible3">Specific roles...</label>

                        <div class="form-fieldgroup" data-fieldgroup-target="email-visible-roles">
                            <div class="form-field checkbox">
                                <input type="checkbox" id="collection1" />
                                <label for="collection1">Members</label>
                            </div>

                            <div class="form-field checkbox">
                                <input type="checkbox" id="collection2" />
                                <label for="collection2">Editors</label>
                            </div>

                            <div class="form-field checkbox">
                                <input type="checkbox" id="collection3" checked />
                                <label for="collection3">Operators</label>
                            </div>

                            <div class="form-field checkbox">
                                <input type="checkbox" id="collection4" />
                                <label for="collection4">Administrators</label>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div id="email-address" class="email-tab">
                <div class="form-field">
                    <label>Email address</label>
                    <p>This will be used to send outgoing emails</p>
                    <input type="email" />
                </div>

                <div class="form-field">
                    <label>Sender name</label>
                    <p>Appears in the 'from:' field on outgoing emails</p>
                    <input type="text" />
                </div>
            </div>

            <div id="email-incoming" class="email-tab form-fieldgroup">
                <div class="form-field">
                    <label>Incoming server type</label>
                    <div class="custom-select">
                        <select>
                            <option>POP</option>
                            <option>IMAP</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label>Incoming server</label>
                    <p>Examples: mail.yourwebsite.com, imap.gmail.com, pop.gmail.com</p>
                    <input type="text" />
                </div>

                <div class="form-field">
                    <label>Incoming server port</label>
                    <p>Common ports: 110 (POP3), 143 (IMAP), 995 (POP3 with SSL), 993 (IMAP with SSL)</p>
                    <input type="number" />
                </div>

                <div class="form-field">
                    <label>Incoming server security</label>
                    <div class="custom-select">
                        <select>
                            <option>None</option>
                            <option>SSL</option>
                            <option>TLS</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label>Incoming username</label>
                    <input type="text" />
                </div>

                <div class="form-field">
                    <label>Incoming password</label>
                    <input type="password" />
                </div>

            </div>

            <div id="email-outgoing" class="email-tab form-fieldgroup">
                <div class="form-field">
                    <label>Outgoing server type</label>
                    <div class="custom-select">
                        <select>
                            <option>SMTP</option>
                            <option>sendmail</option>
                            <option>Native</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label>Outgoing server</label>
                    <p>Examples: smtp.yourhost.com, smtp.gmail.com</p>
                    <input type="text" />
                </div>

                <div class="form-field">
                    <label>Outgoing server port</label>
                    <p>Common ports: 25 (SMTP default), 465 (SMTP with SSL)</p>
                    <input type="number" />
                </div>

                <div class="form-field">
                    <label>Outgoing server security</label>
                    <div class="custom-select">
                        <select>
                            <option>None</option>
                            <option>SSL</option>
                            <option>TLS</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label>Outgoing username</label>
                    <input type="text" />
                </div>

                <div class="form-field">
                    <label>Outgoing password</label>
                    <input type="password" />
                </div>

            </div>

            <div class="form-field">
                <button type="button" disabled>
                    <!--// IF submitting a no-yet validated account configuration //-->
                    Connect account
                    <!--// ELSE //
                    Update account
                    // END IF //-->
                </button>
            </div>
        </div>

    </div>

</main>

{{> Modals }}
